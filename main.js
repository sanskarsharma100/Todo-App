(()=>{"use strict";var __webpack_modules__={974:()=>{eval("\n;// CONCATENATED MODULE: ./src/creatingTask.js\n\r\n\r\nfunction creatingTask() {\r\n    const addTaskBtn = document.querySelector(\".add-task-wrapper\");\r\n    addTaskBtn.addEventListener(\"click\", showAddTaskForm);\r\n\r\n    const addTaskForm = document.querySelector(\"#addTaskForm\");\r\n    addTaskForm.addEventListener(\"submit\", processCreatingTask);\r\n\r\n    const formCancelBtn = document.querySelector(\".task-cancel-btn\");\r\n    formCancelBtn.addEventListener(\"click\", hideAddTaskForm);\r\n}\r\n\r\nlet id = Number(localStorage.getItem(\"taskListId\")) || 0;\r\n\r\nfunction createTask(\r\n    dataProject,\r\n    taskId,\r\n    taskName,\r\n    description,\r\n    date,\r\n    favorite,\r\n    completed\r\n) {\r\n    return {\r\n        dataProject,\r\n        taskId,\r\n        taskName,\r\n        description,\r\n        date,\r\n        favorite,\r\n        completed,\r\n    };\r\n}\r\n\r\nfunction processCreatingTask(e) {\r\n    e.preventDefault();\r\n    const taskName = document.querySelector(\"#taskName\").value;\r\n    const description = document.querySelector(\"#desc\").value;\r\n    let date = document.querySelector(\"#date\").value;\r\n    date = processDate(date);\r\n    let dataProject = getDataProject();\r\n    const taskListId = id;\r\n\r\n    const newTask = createTask(\r\n        dataProject,\r\n        taskListId,\r\n        taskName,\r\n        description,\r\n        date,\r\n        false,\r\n        false\r\n    );\r\n    projectList[dataProject].taskList.push(newTask);\r\n    id++;\r\n    storeInLocalStorage();\r\n    addTasktoUI(taskName, description, date, taskListId);\r\n    hideAddTaskForm();\r\n}\r\n\r\nfunction displayTask(dataProject) {\r\n    const taskList = document.querySelector('#Tasks');\r\n    taskList.innerHTML = '';\r\n\r\n    projectList[dataProject].taskList.forEach(task=> {\r\n        addTasktoUI(task.taskName, task.description, task.date, task.taskId,task.favorite,task.completed);\r\n    })\r\n}\r\n\r\nfunction addTasktoUI(taskName, description, date, taskListId, favorite, completed) {\r\n    const taskContainer = newElement('div', `${taskListId}`, 'taskInfo');\r\n    const taskTitle = newElement('div','taskTitle');\r\n\r\n    const checkBoxlabel = newElement('label', '', 'completeLabel');\r\n    checkBoxlabel.htmlFor = `checkComplete${taskListId}`;\r\n\r\n    const checkBox = newElement('input', `checkComplete${taskListId}`);\r\n    checkBox.type = 'checkbox';\r\n    checkBoxlabel.appendChild(checkBox);\r\n\r\n    // checkBoxlabel.innerHTML = `<input id=\"checkComplete${taskListId}\" type=\"checkbox\" />`;\r\n    const taskNameContainer = newElement('p', '', 'taskName');\r\n    taskNameContainer.textContent = taskName;\r\n\r\n    const taskBtns = newElement('div', '', 'task-buttons');\r\n\r\n    const dateContainer = newElement('span', '', 'task-date');\r\n    dateContainer.innerText = date;\r\n\r\n    const favBtn = newElement('i', '', 'fa-regular fa-star fav-btn');\r\n    const deleteBtn = newElement('i', '', 'fa-solid fa-trash-can delete-task-btn')\r\n    const renameBtn = newElement('i', '', 'fa-regular fa-pen-to-square rename-task-btn');\r\n\r\n    const descContainer = newElement('div', 'description');\r\n    const desc = newElement('p',);\r\n    desc.textContent = description;\r\n    descContainer.appendChild(desc);\r\n    \r\n    if(completed) {\r\n        checkBox.checked = true;\r\n        taskContainer.classList.add('strike-through', 'dim');\r\n    }\r\n    if(favorite) {\r\n        favBtn.classList.remove('fa-regular');\r\n        favBtn.classList.add('fa-solid');\r\n    }\r\n\r\n    taskBtns.appendChild(dateContainer);\r\n    taskBtns.appendChild(favBtn);\r\n    taskBtns.appendChild(deleteBtn);\r\n    taskBtns.appendChild(renameBtn);\r\n\r\n    taskTitle.appendChild(checkBoxlabel);\r\n    taskTitle.appendChild(taskNameContainer);\r\n    taskTitle.appendChild(taskBtns);\r\n    taskContainer.appendChild(taskTitle);\r\n    taskContainer.appendChild(descContainer);\r\n\r\n    const arrowBtn = newElement('div', '', 'arrow-btn');\r\n    arrowBtn.innerHTML = '<div class=\"arrow-down\"></div>';\r\n\r\n    taskContainer.appendChild(arrowBtn);\r\n\r\n    document.querySelector(\"#Tasks\").append(taskContainer);\r\n}\r\n\r\nfunction newElement(tagName, id, className) {\r\n    const element = document.createElement(tagName);\r\n    if(id) element.id = id;\r\n    if(className) {\r\n        className = className.split(' ');\r\n        className.forEach(name => {\r\n            element.classList.add(name);\r\n        })\r\n    \r\n    }\r\n    return element;\r\n}\r\n\r\nfunction processDate(date) {\r\n    if (!date) {\r\n        return (date = \"No due date\");\r\n    }\r\n    return date.split(\"-\").reverse().join(\"-\");\r\n}\r\n\r\nfunction updateTitle(name) {\r\n    const title = document.querySelector('.project-title h1');\r\n    title.textContent = name;\r\n}\r\n\r\nfunction getDataProject() {\r\n    let selectedProjectTile = document.querySelector(\".selected\");\r\n    return selectedProjectTile.dataset.project;\r\n}\r\n\r\nfunction showAddTaskForm() {\r\n    const addTaskForm = document.querySelector(\"#addTaskForm\");\r\n    addTaskForm.classList.remove(\"hidden\");\r\n    const taskName = document.querySelector(\"#taskName\");\r\n    taskName.focus();\r\n}\r\n\r\nfunction hideAddTaskForm() {\r\n    const addTaskForm = document.querySelector(\"#addTaskForm\");\r\n    addTaskForm.classList.add(\"hidden\");\r\n    addTaskForm.reset();\r\n}\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/homeSection.js\n\r\n\r\n\r\nfunction checkHomeTile(tile) {\r\n    if(tile.id == 'today') {\r\n        showToday();\r\n    } else if(tile.id == 'thisWeek') {\r\n        showThisWeek();\r\n    } else {\r\n        showFavourites();\r\n    }\r\n}\r\n\r\nfunction showToday() {\r\n    hideAddTaskBtn();\r\n    hideAddTaskForm();\r\n    let currentDate = new Date().getDate().toString();\r\n    let currentMonth = (new Date().getMonth()+1).toString();\r\n    let currentYear = new Date().getFullYear().toString();\r\n    let todayDate = currentDate+ \"-\" + currentMonth+ \"-\" + currentYear;\r\n    let todayList = [];\r\n    projectList.forEach(project => {\r\n        let list = project.taskList.filter(task => {\r\n            return task.date == todayDate;\r\n        });\r\n        todayList = list.concat(todayList);\r\n    })\r\n    displayHomeTask(todayList);\r\n}\r\n\r\nfunction showThisWeek() {\r\n    hideAddTaskBtn();\r\n    hideAddTaskForm();\r\n    let thisWeekDate = (new Date().getTime()) + (7 * 24 * 60 * 60 * 1000);\r\n    let thisWeekList = [];\r\n    projectList.forEach(project => {\r\n        let list = project.taskList.filter(task => {\r\n            return dateToMs(task.date) <= thisWeekDate;\r\n        });\r\n        thisWeekList = list.concat(thisWeekList);\r\n    })\r\n    displayHomeTask(thisWeekList);\r\n}\r\n\r\nfunction dateToMs(date) {\r\n    let dateArr = date.split('-');\r\n    let temp = dateArr[0];\r\n    dateArr[0] = dateArr[1];\r\n    dateArr[1] = temp;\r\n    return new Date(dateArr.join(\"-\")).getTime();\r\n}\r\n\r\nfunction showFavourites() {\r\n    hideAddTaskBtn();\r\n    hideAddTaskForm();\r\n    let favList = [];\r\n    projectList.forEach(project => {\r\n        let list = project.taskList.filter(task => {\r\n            return task.favorite == true;\r\n        });\r\n        favList = list.concat(favList);\r\n    })\r\n    displayHomeTask(favList);\r\n}\r\n\r\nfunction displayHomeTask(homeList) {\r\n    const taskList = document.querySelector('#Tasks');\r\n    taskList.innerHTML = '';\r\n\r\n    homeList.forEach(task=> {\r\n        addTasktoUI(task.taskName, task.description, task.date, task.taskId,task.favorite,task.completed);\r\n    })\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./src/dragAndDropProject.js\n\r\n\r\n\r\nlet dragStartIndex;\r\n\r\nfunction dragAndDropProjectListener() {\r\n    const dragBtns = document.querySelectorAll(\"#ProjectList .ham-btn\");\r\n    const draggableTiles = document.querySelectorAll(\"#ProjectList .tile\");\r\n\r\n    dragBtns.forEach((drag) => {\r\n        ['mousedown','dragstart'].forEach(evt => \r\n            drag.addEventListener(evt, dragStart)\r\n        );\r\n    });\r\n\r\n    draggableTiles.forEach((tile) => {\r\n        tile.addEventListener(\"dragover\", dragOver);\r\n        tile.addEventListener(\"drop\", dragDrop);\r\n        tile.addEventListener(\"dragenter\", dragEnter);\r\n        tile.addEventListener(\"dragleave\", dragLeave);\r\n    });\r\n}\r\n\r\nfunction dragStart(e) {\r\n    this.parentNode.draggable = true;\r\n    console.log(\"Event: \", \"dragstart\");\r\n    dragStartIndex = +this.closest('.tile').getAttribute('data-project');\r\n    console.log(\"dragStartIndex: \", dragStartIndex);\r\n}\r\n\r\nfunction dragEnter() {\r\n    console.log(\"Event: \", \"dragenter\");\r\n}\r\n\r\nfunction dragLeave() {\r\n    console.log(\"Event: \", \"dragleave\");\r\n}\r\n\r\nfunction dragOver(e) {\r\n    e.preventDefault();\r\n    console.log(\"Event: \", \"dragover\");\r\n    console.log('dragStartIndex', dragStartIndex);\r\n}\r\n\r\nfunction dragDrop() {\r\n    console.log(\"Event: \", \"drop\");\r\n    const dragEndIndex = +this.getAttribute('data-project');\r\n    console.log('dragEndIndex',dragEndIndex);\r\n    swapItems(dragStartIndex, dragEndIndex);\r\n}\r\n\r\nfunction swapItems(startIndex, endIndex) {\r\n    const startItem = document.querySelector(`[data-project=\"${startIndex}\"]`);\r\n    const endItem = document.querySelector(`[data-project=\"${endIndex}\"]`);\r\n    const projectContainer = document.querySelector('#ProjectList');\r\n    let nextStartIndex = startIndex-1;\r\n    if(nextStartIndex==endIndex) {\r\n        projectContainer.insertBefore(endItem,startItem);\r\n    } else {\r\n        const nextStartItem = document.querySelector(`[data-project=\"${nextStartIndex}\"]`);\r\n        projectContainer.insertBefore(startItem, endItem);\r\n        projectContainer.insertBefore(endItem, nextStartItem);\r\n    }\r\n\r\n    const temp = projectList[endIndex];\r\n    projectList[endIndex] = projectList[startIndex];\r\n    projectList[startIndex] = temp;\r\n\r\n    rearrangeDataProject();\r\n    storeInLocalStorage();\r\n}\r\n\r\n\r\n\n;// CONCATENATED MODULE: ./src/deleteAndRenameProject.js\n\r\n\r\n\r\n\r\n\r\nfunction deleteAndRenameListener() {\r\n    const deleteBtns = document.querySelectorAll('.delete-project-btn');\r\n    deleteBtns.forEach(deleteBtn => {\r\n        deleteBtn.addEventListener('click', deleteProject);\r\n    });\r\n    const renameBtns = document.querySelectorAll('.rename-project-btn');\r\n    renameBtns.forEach(renameBtn => {\r\n        renameBtn.addEventListener('click', showRenameProjectForm);\r\n    });\r\n    const formRename = document.querySelector('#RenameForm');\r\n    formRename.addEventListener('submit', renameProject)\r\n    const formCancelBtn = document.querySelector('#RenameForm .project-cancel-btn');\r\n    formCancelBtn.addEventListener('click', () => {\r\n        setOriginalRenameFormPos();\r\n        hideRenameForm();\r\n        showRenamedProject();\r\n    })\r\n}\r\n\r\nfunction deleteProject(e) {\r\n    const dataProjectToBeDeleted = e.target.parentNode.parentNode.dataset.project;\r\n    projectList.splice(dataProjectToBeDeleted,1);\r\n    deleteProjectListContent(dataProjectToBeDeleted);\r\n    rearrangeDataProject();\r\n    storeInLocalStorage();\r\n}\r\n\r\nfunction rearrangeDataProject() {\r\n    let i=projectList.length-1;\r\n    const projectTiles = document.querySelectorAll('#ProjectList .tile');\r\n    \r\n    projectTiles.forEach((tile) => {\r\n        tile.dataset.project = i;\r\n        projectList[i].dataProject = i;\r\n        i--;\r\n    });\r\n    projectList.sort((a,b) => a.dataProject - b.dataProject);\r\n}\r\n\r\nfunction deleteProjectListContent(dataProjectValue) {\r\n    const container = document.querySelector(`[data-project=\"${dataProjectValue}\"]`);\r\n    const today = document.querySelector('#today');\r\n    container.remove();\r\n    today.classList.add('selected');\r\n    showToday();\r\n}\r\n\r\nfunction renameProject(e) {\r\n    e.preventDefault();\r\n    const projectName = document.querySelector('#ProjectList .tile.hidden p');\r\n    const newName = document.querySelector('#RenameForm .project-name-input');\r\n    projectName.textContent = newName.value;\r\n    const dataProject = projectName.parentNode.dataset.project;\r\n    projectList[dataProject].projectName = newName.value;\r\n    storeInLocalStorage();\r\n    setOriginalRenameFormPos();\r\n    hideRenameForm();\r\n    showRenamedProject();\r\n    updateTitle(newName.value);\r\n    dragAndDropProjectListener();\r\n}\r\n\r\nfunction showRenameProjectForm(e) {\r\n    const projectNode = e.target.parentNode.parentNode;\r\n    \r\n    if(!isRenameFormHidden()) {\r\n        setOriginalRenameFormPos();\r\n        showRenamedProject();\r\n    } \r\n    changeRenameFormPos(projectNode);\r\n    showRenameForm();\r\n}\r\n\r\nfunction isRenameFormHidden() {\r\n    const renameForm = document.querySelector('#RenameForm');\r\n    return renameForm.classList.contains('hidden');\r\n}\r\n\r\nfunction changeRenameFormPos(projectNode) {\r\n    const projectListNode = projectNode.parentNode;\r\n    projectNode.classList.add('hidden');\r\n    const renameForm = document.querySelector('#RenameForm');\r\n    const projectNameContainer = projectNode.querySelector('p');\r\n    renameForm.querySelector('input').value = projectNameContainer.textContent;\r\n    projectListNode.insertBefore(renameForm, projectNode);\r\n}\r\n\r\nfunction hideRenameForm() {\r\n    const renameForm = document.querySelector('#RenameForm');\r\n    renameForm.classList.add('hidden');\r\n}\r\n\r\nfunction showRenameForm() {\r\n    const renameForm = document.querySelector('#RenameForm');\r\n    renameForm.classList.remove('hidden');\r\n    renameForm.querySelector('input').focus();\r\n}\r\n\r\nfunction showRenamedProject() {\r\n    const hiddenProjectTile = document.querySelector('#ProjectList .tile.hidden')\r\n    hiddenProjectTile.classList.remove('hidden');\r\n}\r\n\r\nfunction setOriginalRenameFormPos() {\r\n    const renameForm = document.querySelector('#RenameForm');\r\n    const projectList = document.querySelector('#ProjectList');\r\n    projectList.appendChild(renameForm);\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./src/editingTask.js\n\r\n\r\n\r\nfunction taskEdit() {\r\n    const taskLists = document.querySelector('#Tasks');\r\n    taskLists.addEventListener('click', processBtnActions);\r\n}\r\n\r\nfunction processBtnActions(e) {\r\n    const checkBox = e.target.closest(\"#taskTitle input[type='checkbox']\");\r\n    const favBtn = e.target.closest('#taskTitle .fav-btn');\r\n    const deleteBtn = e.target.closest('#taskTitle .delete-task-btn');\r\n    const renameBtn = e.target.closest('#taskTitle .rename-task-btn');\r\n    const descExpand = e.target.closest('.taskInfo .arrow-btn');\r\n    \r\n    \r\n    if(checkBox) {\r\n        checkCompleted(checkBox);\r\n    } else if(favBtn) {\r\n        checkFavourite(favBtn);\r\n    } else if(deleteBtn) {\r\n        checkDelete(deleteBtn);\r\n    } else if(renameBtn) {\r\n        checkRename(renameBtn);\r\n    } else if(descExpand) {\r\n        console.log('descExpand', descExpand);\r\n        checkDescExpand(descExpand);\r\n    }\r\n}\r\n\r\nfunction checkCompleted(checkBox) {\r\n    const taskInfo = checkBox.parentNode.parentNode.parentNode;\r\n    if(checkBox.checked) {\r\n        taskInfo.classList.add('strike-through', 'dim');\r\n    } else {\r\n        taskInfo.classList.remove('strike-through', 'dim');\r\n    }\r\n    const task = findTask(taskInfo.id);\r\n    task.completed = !task.completed;\r\n    storeInLocalStorage();\r\n}\r\n\r\nfunction checkFavourite(favBtn) {\r\n    const taskInfo = favBtn.parentNode.parentNode.parentNode;\r\n    const task = findTask(taskInfo.id);\r\n    if(task.favorite) {\r\n        favBtn.classList.remove('fa-solid');\r\n        favBtn.classList.add('fa-regular');\r\n    } else {\r\n        favBtn.classList.remove('fa-regular');\r\n        favBtn.classList.add('fa-solid');\r\n    }\r\n    task.favorite = !task.favorite;\r\n    storeInLocalStorage();\r\n}\r\n\r\nfunction findTask(id) {\r\n    let taskName=0;\r\n    projectList.forEach(project => {\r\n        project.taskList.forEach(task => {\r\n            if(task.taskId == id) {\r\n                taskName = task;\r\n            }\r\n        })\r\n    })\r\n    return taskName;\r\n}\r\n\r\nfunction checkDelete(deleteBtn) {\r\n    const taskInfo = deleteBtn.parentNode.parentNode.parentNode;\r\n    let details = getTaskDetails(taskInfo.id);\r\n    let projectName = details[0];\r\n    let taskName = details[1];\r\n    projectName.taskList = arrayRemove(projectName.taskList, taskName);\r\n    taskInfo.remove();\r\n    storeInLocalStorage();\r\n}\r\n\r\nfunction arrayRemove(arr, value) { \r\n    return arr.filter(function(ele){ \r\n        return ele != value; \r\n    });\r\n}\r\n\r\nfunction getTaskDetails(id) {\r\n    let projectName;\r\n    let taskName;\r\n    projectList.forEach(project => {\r\n        project.taskList.forEach(task => {\r\n            if(task.taskId == id) {\r\n                projectName = project\r\n                taskName = task;\r\n            }\r\n        })\r\n    })\r\n    return [projectName, taskName];\r\n}\r\n\r\nfunction checkRename(renameBtn) {\r\n    const taskInfo = renameBtn.parentNode.parentNode.parentNode;\r\n    \r\n    const taskForm = document.querySelector('#addTaskForm');\r\n    const renameForm = taskForm.cloneNode(true);\r\n    renameForm.id = 'renameTaskForm';\r\n    const addBtn = renameForm.querySelector('.task-add-btn');\r\n    addBtn.value = 'Save';\r\n\r\n    const taskName = taskInfo.querySelector('#taskTitle p');\r\n    const desc = taskInfo.querySelector('#description p');\r\n    const date = taskInfo.querySelector('#taskTitle .task-date');\r\n\r\n    const taskNameInput = renameForm.querySelector(\"input[type='text']\");\r\n    const descInput = renameForm.querySelector('textarea');\r\n    const dateInput = renameForm.querySelector(\"input[type='date']\")\r\n\r\n    taskNameInput.value = taskName.textContent;\r\n    descInput.value = desc.textContent;\r\n    dateInput.value = processDate(date.textContent);\r\n\r\n    renameForm.classList.remove('hidden');\r\n    const tasks = taskInfo.parentNode;\r\n    tasks.insertBefore(renameForm, taskInfo);\r\n    taskInfo.classList.add('hidden');\r\n    taskRenameFormBtnListener(renameForm,taskInfo);\r\n}\r\n\r\nfunction taskRenameFormBtnListener(renameForm, taskInfo) {\r\n    renameForm.addEventListener('submit', processTaskRename);\r\n    const cancelBtn = renameForm.querySelector('.task-cancel-btn');\r\n    cancelBtn.addEventListener('click', e => {\r\n        hideRenameTaskForm();\r\n        taskInfo.classList.remove('hidden');\r\n    });\r\n}\r\n\r\nfunction processTaskRename(e) {\r\n    e.preventDefault();\r\n    const selectedTask = findHiddenTask();\r\n    \r\n    const taskName = selectedTask.querySelector('#taskTitle p');\r\n    const desc = selectedTask.querySelector('#description p');\r\n    const date = selectedTask.querySelector('#taskTitle .task-date');\r\n\r\n    const taskNameInput = e.target.querySelector(\"input[type='text']\");\r\n    const descInput = e.target.querySelector('textarea');\r\n    const dateInput = e.target.querySelector(\"input[type='date']\");\r\n\r\n    taskName.textContent = taskNameInput.value;\r\n    desc.textContent = descInput.value;\r\n    date.textContent = processDate(dateInput.value);\r\n\r\n    const task = findTask(selectedTask.id);\r\n    task.taskName = taskName.textContent;\r\n    task.description = desc.textContent;\r\n    task.date = date.textContent;\r\n    storeInLocalStorage();\r\n\r\n    selectedTask.classList.remove('hidden');\r\n    hideRenameTaskForm();\r\n}\r\n\r\nfunction checkDescExpand(descExpand) {\r\n    console.log(\"sibling\",descExpand.previousSibling);\r\n    const desc = descExpand.previousSibling;\r\n    const arrow = descExpand.firstChild;\r\n    console.log('transform', arrow.computedStyleMap().get('transform')[0].angle.value);\r\n    if(arrow.computedStyleMap().get('transform')[0].angle.value == 45) {\r\n        arrow.style.transform = 'rotate(-135deg)'\r\n    } else {\r\n        arrow.style.transform = 'rotate(45deg)'\r\n    }\r\n    if(desc.textContent) {\r\n        desc.classList.toggle('expanded-desc');\r\n    }\r\n}\r\n\r\nfunction findHiddenTask() {\r\n    return document.querySelector('#Tasks .taskInfo.hidden');\r\n}\r\n\r\nfunction hideRenameTaskForm() {\r\n    const addTaskForm = document.querySelector(\"#renameTaskForm\");\r\n    addTaskForm.remove();\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./src/creatingProject.js\n\r\n\r\n\r\n\r\n\r\n\r\nconst PROJECTLISTKEY = \"projectListKey\";\r\nconst TASKLISTID = 'taskListId';\r\n\r\nfunction addNewProject() {\r\n    const newProjectButton = document.querySelector('.add-project-wrapper');\r\n    newProjectButton.addEventListener('click', showAddProject);\r\n\r\n    const projectCancelBtn = document.querySelector('.project-cancel-btn');\r\n    projectCancelBtn.addEventListener('click', hideAddProject);\r\n\r\n    const addProjectForm = document.querySelector('#AddProjectForm');\r\n    addProjectForm.addEventListener('submit', addProjectName);\r\n\r\n    const menu = document.querySelector('#Menu');\r\n    menu.addEventListener('click', menuTilesListener);\r\n\r\n    displayProjectList();\r\n}\r\n\r\nlet defaultProjectList=[];\r\nlet projectList = localStorage.getItem(PROJECTLISTKEY);\r\nprojectList = JSON.parse(projectList || JSON.stringify(defaultProjectList));\r\n\r\nfunction menuTilesListener(e) {\r\n    let homeTile = e.target.closest(\".home .tile\");\r\n    let projectTile = e.target.closest(\"#ProjectList .tile\");\r\n\r\n    if(homeTile!=null) {\r\n        const title = homeTile.querySelector('p').textContent;\r\n        selectTile(homeTile);\r\n        updateTitle(title);\r\n        checkHomeTile(homeTile);\r\n        taskEdit();\r\n    } else if(projectTile!=null) {\r\n        const dataProject = projectTile.dataset.project;\r\n        const title = projectTile.querySelector('p').textContent;\r\n        selectTile(projectTile);\r\n        displayTask(dataProject);\r\n        showAddTaskBtn();\r\n        updateTitle(title);\r\n        taskEdit();\r\n    }\r\n}\r\n\r\nfunction showAddTaskBtn() {\r\n    const addTaskBtn = document.querySelector('.add-task-wrapper')\r\n    addTaskBtn.classList.remove('hidden');\r\n}\r\n\r\nfunction hideAddTaskBtn() {\r\n    const addTaskBtn = document.querySelector('.add-task-wrapper')\r\n    addTaskBtn.classList.add('hidden');\r\n}\r\n\r\nfunction selectTile(tileName) {\r\n    const selectedTile = document.querySelector('.selected');\r\n    if(selectedTile) {\r\n        selectedTile.classList.remove('selected');\r\n    }\r\n    tileName.classList.add('selected');\r\n}\r\n\r\nfunction addProjectName(e) {\r\n    e.preventDefault();\r\n    const projectName = document.querySelector('.project-name-input').value;\r\n    let dataProject = creatingProject_getDataProject();\r\n    const newProject = createProject(dataProject, projectName);\r\n    projectList.push(newProject);\r\n    storeInLocalStorage();\r\n    addToProjectListsUI(dataProject, projectName);\r\n    hideAddProject();\r\n    deleteAndRenameListener();\r\n    dragAndDropProjectListener();\r\n}\r\n\r\nfunction createProject(dataProject, projectName) {\r\n    let taskList = [];\r\n    const taskNum = taskList.length;\r\n    return { dataProject, projectName, taskList, taskNum };\r\n}\r\n\r\nfunction creatingProject_getDataProject() {\r\n    const projects = document.querySelectorAll('[data-project]');\r\n    return projects.length;\r\n}\r\n\r\nfunction addToProjectListsUI(dataProject, projectName) {\r\n    \r\n    //hamburger button Container\r\n    const hamBtn = createNewElement('div', ['ham-btn']);\r\n\r\n    // hamburger button\r\n    const bar = createNewElement('div', ['bar']);\r\n    hamBtn.appendChild(bar);\r\n\r\n    const projectNameContainer = document.createElement('p');\r\n    projectNameContainer.textContent = projectName;\r\n\r\n    const deleteAndRenameContainer = createNewElement('div', ['delete-and-rename']);\r\n    const deleteBtn = createNewElement('i', ['fa-solid', 'fa-trash-can', 'delete-project-btn']);\r\n    const renameBtn = createNewElement('i', ['fa-regular', 'fa-pen-to-square', 'rename-project-btn']);\r\n    deleteAndRenameContainer.appendChild(deleteBtn);\r\n    deleteAndRenameContainer.appendChild(renameBtn);\r\n\r\n    const container = createNewElement('div', ['tile'], 'data-project', dataProject);\r\n    container.prepend(hamBtn);\r\n    container.appendChild(projectNameContainer);\r\n    container.appendChild(deleteAndRenameContainer);\r\n    \r\n    const projectWrapper = document.querySelector('#ProjectList');\r\n    projectWrapper.prepend(container);\r\n}\r\n\r\nfunction createNewElement(tag, nameOFClass, attr='', attrValue) {\r\n    const container = document.createElement(tag);\r\n    nameOFClass.forEach(className => {\r\n        container.classList.add(className);\r\n    });\r\n    if(attr!='') {\r\n        container.setAttribute(attr, `${attrValue}`);\r\n    }\r\n    return container;\r\n}\r\n\r\nfunction storeInLocalStorage() {\r\n    localStorage.setItem(PROJECTLISTKEY, JSON.stringify(projectList));\r\n    localStorage.setItem(TASKLISTID, JSON.stringify(id));\r\n}\r\n\r\nfunction displayProjectList() {\r\n    document.querySelector('#ProjectList').innerHTML = '';\r\n    projectList.forEach(project => {\r\n        addToProjectListsUI(project.dataProject,project.projectName);\r\n    });\r\n}\r\n\r\nfunction hideAddProject() {\r\n    const newProject = document.querySelector('#AddProjectForm');\r\n    const projectNameInputField = document.querySelector('.project-name-input');\r\n    projectNameInputField.value = '';\r\n    newProject.classList.add('hidden');\r\n}\r\n\r\nfunction showAddProject() {\r\n    const newProject = document.querySelector('#AddProjectForm');\r\n    newProject.classList.remove('hidden');\r\n    document.querySelector('.project-name-input').focus();\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./src/index.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\naddNewProject();\r\ndeleteAndRenameListener();\r\ncreatingTask();\r\ntaskEdit();\r\nshowToday();\r\ndragAndDropProjectListener();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc0LmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDektBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDeEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDakhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUMxSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWFwcC8uL3NyYy9jcmVhdGluZ1Rhc2suanM/MTk1MCIsIndlYnBhY2s6Ly90b2RvLWFwcC8uL3NyYy9ob21lU2VjdGlvbi5qcz8yMDdjIiwid2VicGFjazovL3RvZG8tYXBwLy4vc3JjL2RyYWdBbmREcm9wUHJvamVjdC5qcz84MDk0Iiwid2VicGFjazovL3RvZG8tYXBwLy4vc3JjL2RlbGV0ZUFuZFJlbmFtZVByb2plY3QuanM/MGFhOCIsIndlYnBhY2s6Ly90b2RvLWFwcC8uL3NyYy9lZGl0aW5nVGFzay5qcz82ODk2Iiwid2VicGFjazovL3RvZG8tYXBwLy4vc3JjL2NyZWF0aW5nUHJvamVjdC5qcz85MjQzIiwid2VicGFjazovL3RvZG8tYXBwLy4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJvamVjdExpc3QsIHN0b3JlSW5Mb2NhbFN0b3JhZ2UgfSBmcm9tIFwiLi9jcmVhdGluZ1Byb2plY3RcIjtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0aW5nVGFzaygpIHtcclxuICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrLXdyYXBwZXJcIik7XHJcbiAgICBhZGRUYXNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzaG93QWRkVGFza0Zvcm0pO1xyXG5cclxuICAgIGNvbnN0IGFkZFRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRUYXNrRm9ybVwiKTtcclxuICAgIGFkZFRhc2tGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgcHJvY2Vzc0NyZWF0aW5nVGFzayk7XHJcblxyXG4gICAgY29uc3QgZm9ybUNhbmNlbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1jYW5jZWwtYnRuXCIpO1xyXG4gICAgZm9ybUNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGlkZUFkZFRhc2tGb3JtKTtcclxufVxyXG5cclxubGV0IGlkID0gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGFza0xpc3RJZFwiKSkgfHwgMDtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVRhc2soXHJcbiAgICBkYXRhUHJvamVjdCxcclxuICAgIHRhc2tJZCxcclxuICAgIHRhc2tOYW1lLFxyXG4gICAgZGVzY3JpcHRpb24sXHJcbiAgICBkYXRlLFxyXG4gICAgZmF2b3JpdGUsXHJcbiAgICBjb21wbGV0ZWRcclxuKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGFQcm9qZWN0LFxyXG4gICAgICAgIHRhc2tJZCxcclxuICAgICAgICB0YXNrTmFtZSxcclxuICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICBkYXRlLFxyXG4gICAgICAgIGZhdm9yaXRlLFxyXG4gICAgICAgIGNvbXBsZXRlZCxcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGluZ1Rhc2soZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgdGFza05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tOYW1lXCIpLnZhbHVlO1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NcIikudmFsdWU7XHJcbiAgICBsZXQgZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGF0ZVwiKS52YWx1ZTtcclxuICAgIGRhdGUgPSBwcm9jZXNzRGF0ZShkYXRlKTtcclxuICAgIGxldCBkYXRhUHJvamVjdCA9IGdldERhdGFQcm9qZWN0KCk7XHJcbiAgICBjb25zdCB0YXNrTGlzdElkID0gaWQ7XHJcblxyXG4gICAgY29uc3QgbmV3VGFzayA9IGNyZWF0ZVRhc2soXHJcbiAgICAgICAgZGF0YVByb2plY3QsXHJcbiAgICAgICAgdGFza0xpc3RJZCxcclxuICAgICAgICB0YXNrTmFtZSxcclxuICAgICAgICBkZXNjcmlwdGlvbixcclxuICAgICAgICBkYXRlLFxyXG4gICAgICAgIGZhbHNlLFxyXG4gICAgICAgIGZhbHNlXHJcbiAgICApO1xyXG4gICAgcHJvamVjdExpc3RbZGF0YVByb2plY3RdLnRhc2tMaXN0LnB1c2gobmV3VGFzayk7XHJcbiAgICBpZCsrO1xyXG4gICAgc3RvcmVJbkxvY2FsU3RvcmFnZSgpO1xyXG4gICAgYWRkVGFza3RvVUkodGFza05hbWUsIGRlc2NyaXB0aW9uLCBkYXRlLCB0YXNrTGlzdElkKTtcclxuICAgIGhpZGVBZGRUYXNrRm9ybSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5VGFzayhkYXRhUHJvamVjdCkge1xyXG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVGFza3MnKTtcclxuICAgIHRhc2tMaXN0LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIHByb2plY3RMaXN0W2RhdGFQcm9qZWN0XS50YXNrTGlzdC5mb3JFYWNoKHRhc2s9PiB7XHJcbiAgICAgICAgYWRkVGFza3RvVUkodGFzay50YXNrTmFtZSwgdGFzay5kZXNjcmlwdGlvbiwgdGFzay5kYXRlLCB0YXNrLnRhc2tJZCx0YXNrLmZhdm9yaXRlLHRhc2suY29tcGxldGVkKTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFRhc2t0b1VJKHRhc2tOYW1lLCBkZXNjcmlwdGlvbiwgZGF0ZSwgdGFza0xpc3RJZCwgZmF2b3JpdGUsIGNvbXBsZXRlZCkge1xyXG4gICAgY29uc3QgdGFza0NvbnRhaW5lciA9IG5ld0VsZW1lbnQoJ2RpdicsIGAke3Rhc2tMaXN0SWR9YCwgJ3Rhc2tJbmZvJyk7XHJcbiAgICBjb25zdCB0YXNrVGl0bGUgPSBuZXdFbGVtZW50KCdkaXYnLCd0YXNrVGl0bGUnKTtcclxuXHJcbiAgICBjb25zdCBjaGVja0JveGxhYmVsID0gbmV3RWxlbWVudCgnbGFiZWwnLCAnJywgJ2NvbXBsZXRlTGFiZWwnKTtcclxuICAgIGNoZWNrQm94bGFiZWwuaHRtbEZvciA9IGBjaGVja0NvbXBsZXRlJHt0YXNrTGlzdElkfWA7XHJcblxyXG4gICAgY29uc3QgY2hlY2tCb3ggPSBuZXdFbGVtZW50KCdpbnB1dCcsIGBjaGVja0NvbXBsZXRlJHt0YXNrTGlzdElkfWApO1xyXG4gICAgY2hlY2tCb3gudHlwZSA9ICdjaGVja2JveCc7XHJcbiAgICBjaGVja0JveGxhYmVsLmFwcGVuZENoaWxkKGNoZWNrQm94KTtcclxuXHJcbiAgICAvLyBjaGVja0JveGxhYmVsLmlubmVySFRNTCA9IGA8aW5wdXQgaWQ9XCJjaGVja0NvbXBsZXRlJHt0YXNrTGlzdElkfVwiIHR5cGU9XCJjaGVja2JveFwiIC8+YDtcclxuICAgIGNvbnN0IHRhc2tOYW1lQ29udGFpbmVyID0gbmV3RWxlbWVudCgncCcsICcnLCAndGFza05hbWUnKTtcclxuICAgIHRhc2tOYW1lQ29udGFpbmVyLnRleHRDb250ZW50ID0gdGFza05hbWU7XHJcblxyXG4gICAgY29uc3QgdGFza0J0bnMgPSBuZXdFbGVtZW50KCdkaXYnLCAnJywgJ3Rhc2stYnV0dG9ucycpO1xyXG5cclxuICAgIGNvbnN0IGRhdGVDb250YWluZXIgPSBuZXdFbGVtZW50KCdzcGFuJywgJycsICd0YXNrLWRhdGUnKTtcclxuICAgIGRhdGVDb250YWluZXIuaW5uZXJUZXh0ID0gZGF0ZTtcclxuXHJcbiAgICBjb25zdCBmYXZCdG4gPSBuZXdFbGVtZW50KCdpJywgJycsICdmYS1yZWd1bGFyIGZhLXN0YXIgZmF2LWJ0bicpO1xyXG4gICAgY29uc3QgZGVsZXRlQnRuID0gbmV3RWxlbWVudCgnaScsICcnLCAnZmEtc29saWQgZmEtdHJhc2gtY2FuIGRlbGV0ZS10YXNrLWJ0bicpXHJcbiAgICBjb25zdCByZW5hbWVCdG4gPSBuZXdFbGVtZW50KCdpJywgJycsICdmYS1yZWd1bGFyIGZhLXBlbi10by1zcXVhcmUgcmVuYW1lLXRhc2stYnRuJyk7XHJcblxyXG4gICAgY29uc3QgZGVzY0NvbnRhaW5lciA9IG5ld0VsZW1lbnQoJ2RpdicsICdkZXNjcmlwdGlvbicpO1xyXG4gICAgY29uc3QgZGVzYyA9IG5ld0VsZW1lbnQoJ3AnLCk7XHJcbiAgICBkZXNjLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XHJcbiAgICBkZXNjQ29udGFpbmVyLmFwcGVuZENoaWxkKGRlc2MpO1xyXG4gICAgXHJcbiAgICBpZihjb21wbGV0ZWQpIHtcclxuICAgICAgICBjaGVja0JveC5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICB0YXNrQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3N0cmlrZS10aHJvdWdoJywgJ2RpbScpO1xyXG4gICAgfVxyXG4gICAgaWYoZmF2b3JpdGUpIHtcclxuICAgICAgICBmYXZCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmEtcmVndWxhcicpO1xyXG4gICAgICAgIGZhdkJ0bi5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIHRhc2tCdG5zLmFwcGVuZENoaWxkKGRhdGVDb250YWluZXIpO1xyXG4gICAgdGFza0J0bnMuYXBwZW5kQ2hpbGQoZmF2QnRuKTtcclxuICAgIHRhc2tCdG5zLmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XHJcbiAgICB0YXNrQnRucy5hcHBlbmRDaGlsZChyZW5hbWVCdG4pO1xyXG5cclxuICAgIHRhc2tUaXRsZS5hcHBlbmRDaGlsZChjaGVja0JveGxhYmVsKTtcclxuICAgIHRhc2tUaXRsZS5hcHBlbmRDaGlsZCh0YXNrTmFtZUNvbnRhaW5lcik7XHJcbiAgICB0YXNrVGl0bGUuYXBwZW5kQ2hpbGQodGFza0J0bnMpO1xyXG4gICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrVGl0bGUpO1xyXG4gICAgdGFza0NvbnRhaW5lci5hcHBlbmRDaGlsZChkZXNjQ29udGFpbmVyKTtcclxuXHJcbiAgICBjb25zdCBhcnJvd0J0biA9IG5ld0VsZW1lbnQoJ2RpdicsICcnLCAnYXJyb3ctYnRuJyk7XHJcbiAgICBhcnJvd0J0bi5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cImFycm93LWRvd25cIj48L2Rpdj4nO1xyXG5cclxuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoYXJyb3dCdG4pO1xyXG5cclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjVGFza3NcIikuYXBwZW5kKHRhc2tDb250YWluZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBuZXdFbGVtZW50KHRhZ05hbWUsIGlkLCBjbGFzc05hbWUpIHtcclxuICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xyXG4gICAgaWYoaWQpIGVsZW1lbnQuaWQgPSBpZDtcclxuICAgIGlmKGNsYXNzTmFtZSkge1xyXG4gICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5zcGxpdCgnICcpO1xyXG4gICAgICAgIGNsYXNzTmFtZS5mb3JFYWNoKG5hbWUgPT4ge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQobmFtZSk7XHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NEYXRlKGRhdGUpIHtcclxuICAgIGlmICghZGF0ZSkge1xyXG4gICAgICAgIHJldHVybiAoZGF0ZSA9IFwiTm8gZHVlIGRhdGVcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0ZS5zcGxpdChcIi1cIikucmV2ZXJzZSgpLmpvaW4oXCItXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVUaXRsZShuYW1lKSB7XHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0LXRpdGxlIGgxJyk7XHJcbiAgICB0aXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFQcm9qZWN0KCkge1xyXG4gICAgbGV0IHNlbGVjdGVkUHJvamVjdFRpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlbGVjdGVkXCIpO1xyXG4gICAgcmV0dXJuIHNlbGVjdGVkUHJvamVjdFRpbGUuZGF0YXNldC5wcm9qZWN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93QWRkVGFza0Zvcm0oKSB7XHJcbiAgICBjb25zdCBhZGRUYXNrRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkVGFza0Zvcm1cIik7XHJcbiAgICBhZGRUYXNrRm9ybS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG4gICAgY29uc3QgdGFza05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tOYW1lXCIpO1xyXG4gICAgdGFza05hbWUuZm9jdXMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZUFkZFRhc2tGb3JtKCkge1xyXG4gICAgY29uc3QgYWRkVGFza0Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZFRhc2tGb3JtXCIpO1xyXG4gICAgYWRkVGFza0Zvcm0uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgIGFkZFRhc2tGb3JtLnJlc2V0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGNyZWF0aW5nVGFzaywgaWQsIHVwZGF0ZVRpdGxlLCBoaWRlQWRkVGFza0Zvcm0sIGRpc3BsYXlUYXNrLCBwcm9jZXNzRGF0ZSwgYWRkVGFza3RvVUkgfTtcclxuIiwiaW1wb3J0IHsgcHJvamVjdExpc3QsIGhpZGVBZGRUYXNrQnRuIH0gZnJvbSBcIi4vY3JlYXRpbmdQcm9qZWN0XCI7XHJcbmltcG9ydCB7YWRkVGFza3RvVUksIGhpZGVBZGRUYXNrRm9ybX0gZnJvbSBcIi4vY3JlYXRpbmdUYXNrXCI7XHJcblxyXG5mdW5jdGlvbiBjaGVja0hvbWVUaWxlKHRpbGUpIHtcclxuICAgIGlmKHRpbGUuaWQgPT0gJ3RvZGF5Jykge1xyXG4gICAgICAgIHNob3dUb2RheSgpO1xyXG4gICAgfSBlbHNlIGlmKHRpbGUuaWQgPT0gJ3RoaXNXZWVrJykge1xyXG4gICAgICAgIHNob3dUaGlzV2VlaygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzaG93RmF2b3VyaXRlcygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93VG9kYXkoKSB7XHJcbiAgICBoaWRlQWRkVGFza0J0bigpO1xyXG4gICAgaGlkZUFkZFRhc2tGb3JtKCk7XHJcbiAgICBsZXQgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLmdldERhdGUoKS50b1N0cmluZygpO1xyXG4gICAgbGV0IGN1cnJlbnRNb250aCA9IChuZXcgRGF0ZSgpLmdldE1vbnRoKCkrMSkudG9TdHJpbmcoKTtcclxuICAgIGxldCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xyXG4gICAgbGV0IHRvZGF5RGF0ZSA9IGN1cnJlbnREYXRlKyBcIi1cIiArIGN1cnJlbnRNb250aCsgXCItXCIgKyBjdXJyZW50WWVhcjtcclxuICAgIGxldCB0b2RheUxpc3QgPSBbXTtcclxuICAgIHByb2plY3RMaXN0LmZvckVhY2gocHJvamVjdCA9PiB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBwcm9qZWN0LnRhc2tMaXN0LmZpbHRlcih0YXNrID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHRhc2suZGF0ZSA9PSB0b2RheURhdGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdG9kYXlMaXN0ID0gbGlzdC5jb25jYXQodG9kYXlMaXN0KTtcclxuICAgIH0pXHJcbiAgICBkaXNwbGF5SG9tZVRhc2sodG9kYXlMaXN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd1RoaXNXZWVrKCkge1xyXG4gICAgaGlkZUFkZFRhc2tCdG4oKTtcclxuICAgIGhpZGVBZGRUYXNrRm9ybSgpO1xyXG4gICAgbGV0IHRoaXNXZWVrRGF0ZSA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSkgKyAoNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xyXG4gICAgbGV0IHRoaXNXZWVrTGlzdCA9IFtdO1xyXG4gICAgcHJvamVjdExpc3QuZm9yRWFjaChwcm9qZWN0ID0+IHtcclxuICAgICAgICBsZXQgbGlzdCA9IHByb2plY3QudGFza0xpc3QuZmlsdGVyKHRhc2sgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0ZVRvTXModGFzay5kYXRlKSA8PSB0aGlzV2Vla0RhdGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpc1dlZWtMaXN0ID0gbGlzdC5jb25jYXQodGhpc1dlZWtMaXN0KTtcclxuICAgIH0pXHJcbiAgICBkaXNwbGF5SG9tZVRhc2sodGhpc1dlZWtMaXN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGF0ZVRvTXMoZGF0ZSkge1xyXG4gICAgbGV0IGRhdGVBcnIgPSBkYXRlLnNwbGl0KCctJyk7XHJcbiAgICBsZXQgdGVtcCA9IGRhdGVBcnJbMF07XHJcbiAgICBkYXRlQXJyWzBdID0gZGF0ZUFyclsxXTtcclxuICAgIGRhdGVBcnJbMV0gPSB0ZW1wO1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVBcnIuam9pbihcIi1cIikpLmdldFRpbWUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0Zhdm91cml0ZXMoKSB7XHJcbiAgICBoaWRlQWRkVGFza0J0bigpO1xyXG4gICAgaGlkZUFkZFRhc2tGb3JtKCk7XHJcbiAgICBsZXQgZmF2TGlzdCA9IFtdO1xyXG4gICAgcHJvamVjdExpc3QuZm9yRWFjaChwcm9qZWN0ID0+IHtcclxuICAgICAgICBsZXQgbGlzdCA9IHByb2plY3QudGFza0xpc3QuZmlsdGVyKHRhc2sgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGFzay5mYXZvcml0ZSA9PSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZhdkxpc3QgPSBsaXN0LmNvbmNhdChmYXZMaXN0KTtcclxuICAgIH0pXHJcbiAgICBkaXNwbGF5SG9tZVRhc2soZmF2TGlzdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRpc3BsYXlIb21lVGFzayhob21lTGlzdCkge1xyXG4gICAgY29uc3QgdGFza0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVGFza3MnKTtcclxuICAgIHRhc2tMaXN0LmlubmVySFRNTCA9ICcnO1xyXG5cclxuICAgIGhvbWVMaXN0LmZvckVhY2godGFzaz0+IHtcclxuICAgICAgICBhZGRUYXNrdG9VSSh0YXNrLnRhc2tOYW1lLCB0YXNrLmRlc2NyaXB0aW9uLCB0YXNrLmRhdGUsIHRhc2sudGFza0lkLHRhc2suZmF2b3JpdGUsdGFzay5jb21wbGV0ZWQpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZXhwb3J0e2NoZWNrSG9tZVRpbGUsIHNob3dUb2RheX07IiwiaW1wb3J0IHtwcm9qZWN0TGlzdCwgc3RvcmVJbkxvY2FsU3RvcmFnZSwgZGlzcGxheVByb2plY3RMaXN0fSBmcm9tIFwiLi9jcmVhdGluZ1Byb2plY3RcIlxyXG5pbXBvcnQge3JlYXJyYW5nZURhdGFQcm9qZWN0fSBmcm9tIFwiLi9kZWxldGVBbmRSZW5hbWVQcm9qZWN0XCJcclxuXHJcbmxldCBkcmFnU3RhcnRJbmRleDtcclxuXHJcbmZ1bmN0aW9uIGRyYWdBbmREcm9wUHJvamVjdExpc3RlbmVyKCkge1xyXG4gICAgY29uc3QgZHJhZ0J0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI1Byb2plY3RMaXN0IC5oYW0tYnRuXCIpO1xyXG4gICAgY29uc3QgZHJhZ2dhYmxlVGlsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI1Byb2plY3RMaXN0IC50aWxlXCIpO1xyXG5cclxuICAgIGRyYWdCdG5zLmZvckVhY2goKGRyYWcpID0+IHtcclxuICAgICAgICBbJ21vdXNlZG93bicsJ2RyYWdzdGFydCddLmZvckVhY2goZXZ0ID0+IFxyXG4gICAgICAgICAgICBkcmFnLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBkcmFnU3RhcnQpXHJcbiAgICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGRyYWdnYWJsZVRpbGVzLmZvckVhY2goKHRpbGUpID0+IHtcclxuICAgICAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCBkcmFnT3Zlcik7XHJcbiAgICAgICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBkcmFnRHJvcCk7XHJcbiAgICAgICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2VudGVyXCIsIGRyYWdFbnRlcik7XHJcbiAgICAgICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ2xlYXZlXCIsIGRyYWdMZWF2ZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhZ1N0YXJ0KGUpIHtcclxuICAgIHRoaXMucGFyZW50Tm9kZS5kcmFnZ2FibGUgPSB0cnVlO1xyXG4gICAgY29uc29sZS5sb2coXCJFdmVudDogXCIsIFwiZHJhZ3N0YXJ0XCIpO1xyXG4gICAgZHJhZ1N0YXJ0SW5kZXggPSArdGhpcy5jbG9zZXN0KCcudGlsZScpLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0Jyk7XHJcbiAgICBjb25zb2xlLmxvZyhcImRyYWdTdGFydEluZGV4OiBcIiwgZHJhZ1N0YXJ0SW5kZXgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmFnRW50ZXIoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkV2ZW50OiBcIiwgXCJkcmFnZW50ZXJcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYWdMZWF2ZSgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiRXZlbnQ6IFwiLCBcImRyYWdsZWF2ZVwiKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhZ092ZXIoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc29sZS5sb2coXCJFdmVudDogXCIsIFwiZHJhZ292ZXJcIik7XHJcbiAgICBjb25zb2xlLmxvZygnZHJhZ1N0YXJ0SW5kZXgnLCBkcmFnU3RhcnRJbmRleCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYWdEcm9wKCkge1xyXG4gICAgY29uc29sZS5sb2coXCJFdmVudDogXCIsIFwiZHJvcFwiKTtcclxuICAgIGNvbnN0IGRyYWdFbmRJbmRleCA9ICt0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0Jyk7XHJcbiAgICBjb25zb2xlLmxvZygnZHJhZ0VuZEluZGV4JyxkcmFnRW5kSW5kZXgpO1xyXG4gICAgc3dhcEl0ZW1zKGRyYWdTdGFydEluZGV4LCBkcmFnRW5kSW5kZXgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzd2FwSXRlbXMoc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcclxuICAgIGNvbnN0IHN0YXJ0SXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3Q9XCIke3N0YXJ0SW5kZXh9XCJdYCk7XHJcbiAgICBjb25zdCBlbmRJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdD1cIiR7ZW5kSW5kZXh9XCJdYCk7XHJcbiAgICBjb25zdCBwcm9qZWN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Byb2plY3RMaXN0Jyk7XHJcbiAgICBsZXQgbmV4dFN0YXJ0SW5kZXggPSBzdGFydEluZGV4LTE7XHJcbiAgICBpZihuZXh0U3RhcnRJbmRleD09ZW5kSW5kZXgpIHtcclxuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmluc2VydEJlZm9yZShlbmRJdGVtLHN0YXJ0SXRlbSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG5leHRTdGFydEl0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0PVwiJHtuZXh0U3RhcnRJbmRleH1cIl1gKTtcclxuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmluc2VydEJlZm9yZShzdGFydEl0ZW0sIGVuZEl0ZW0pO1xyXG4gICAgICAgIHByb2plY3RDb250YWluZXIuaW5zZXJ0QmVmb3JlKGVuZEl0ZW0sIG5leHRTdGFydEl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHRlbXAgPSBwcm9qZWN0TGlzdFtlbmRJbmRleF07XHJcbiAgICBwcm9qZWN0TGlzdFtlbmRJbmRleF0gPSBwcm9qZWN0TGlzdFtzdGFydEluZGV4XTtcclxuICAgIHByb2plY3RMaXN0W3N0YXJ0SW5kZXhdID0gdGVtcDtcclxuXHJcbiAgICByZWFycmFuZ2VEYXRhUHJvamVjdCgpO1xyXG4gICAgc3RvcmVJbkxvY2FsU3RvcmFnZSgpO1xyXG59XHJcblxyXG5leHBvcnQgeyBkcmFnQW5kRHJvcFByb2plY3RMaXN0ZW5lciB9O1xyXG4iLCJpbXBvcnQge3Byb2plY3RMaXN0LCBzdG9yZUluTG9jYWxTdG9yYWdlfSBmcm9tIFwiLi9jcmVhdGluZ1Byb2plY3RcIjtcclxuaW1wb3J0IHsgdXBkYXRlVGl0bGUgfSBmcm9tIFwiLi9jcmVhdGluZ1Rhc2tcIjtcclxuaW1wb3J0IHtzaG93VG9kYXl9IGZyb20gXCIuL2hvbWVTZWN0aW9uXCI7XHJcbmltcG9ydCB7ZHJhZ0FuZERyb3BQcm9qZWN0TGlzdGVuZXJ9IGZyb20gXCIuL2RyYWdBbmREcm9wUHJvamVjdFwiO1xyXG5cclxuZnVuY3Rpb24gZGVsZXRlQW5kUmVuYW1lTGlzdGVuZXIoKSB7XHJcbiAgICBjb25zdCBkZWxldGVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRlbGV0ZS1wcm9qZWN0LWJ0bicpO1xyXG4gICAgZGVsZXRlQnRucy5mb3JFYWNoKGRlbGV0ZUJ0biA9PiB7XHJcbiAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlUHJvamVjdCk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHJlbmFtZUJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVuYW1lLXByb2plY3QtYnRuJyk7XHJcbiAgICByZW5hbWVCdG5zLmZvckVhY2gocmVuYW1lQnRuID0+IHtcclxuICAgICAgICByZW5hbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UmVuYW1lUHJvamVjdEZvcm0pO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBmb3JtUmVuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1JlbmFtZUZvcm0nKTtcclxuICAgIGZvcm1SZW5hbWUuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgcmVuYW1lUHJvamVjdClcclxuICAgIGNvbnN0IGZvcm1DYW5jZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUmVuYW1lRm9ybSAucHJvamVjdC1jYW5jZWwtYnRuJyk7XHJcbiAgICBmb3JtQ2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHNldE9yaWdpbmFsUmVuYW1lRm9ybVBvcygpO1xyXG4gICAgICAgIGhpZGVSZW5hbWVGb3JtKCk7XHJcbiAgICAgICAgc2hvd1JlbmFtZWRQcm9qZWN0KCk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0KGUpIHtcclxuICAgIGNvbnN0IGRhdGFQcm9qZWN0VG9CZURlbGV0ZWQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuZGF0YXNldC5wcm9qZWN0O1xyXG4gICAgcHJvamVjdExpc3Quc3BsaWNlKGRhdGFQcm9qZWN0VG9CZURlbGV0ZWQsMSk7XHJcbiAgICBkZWxldGVQcm9qZWN0TGlzdENvbnRlbnQoZGF0YVByb2plY3RUb0JlRGVsZXRlZCk7XHJcbiAgICByZWFycmFuZ2VEYXRhUHJvamVjdCgpO1xyXG4gICAgc3RvcmVJbkxvY2FsU3RvcmFnZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFycmFuZ2VEYXRhUHJvamVjdCgpIHtcclxuICAgIGxldCBpPXByb2plY3RMaXN0Lmxlbmd0aC0xO1xyXG4gICAgY29uc3QgcHJvamVjdFRpbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI1Byb2plY3RMaXN0IC50aWxlJyk7XHJcbiAgICBcclxuICAgIHByb2plY3RUaWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XHJcbiAgICAgICAgdGlsZS5kYXRhc2V0LnByb2plY3QgPSBpO1xyXG4gICAgICAgIHByb2plY3RMaXN0W2ldLmRhdGFQcm9qZWN0ID0gaTtcclxuICAgICAgICBpLS07XHJcbiAgICB9KTtcclxuICAgIHByb2plY3RMaXN0LnNvcnQoKGEsYikgPT4gYS5kYXRhUHJvamVjdCAtIGIuZGF0YVByb2plY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVQcm9qZWN0TGlzdENvbnRlbnQoZGF0YVByb2plY3RWYWx1ZSkge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdD1cIiR7ZGF0YVByb2plY3RWYWx1ZX1cIl1gKTtcclxuICAgIGNvbnN0IHRvZGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZGF5Jyk7XHJcbiAgICBjb250YWluZXIucmVtb3ZlKCk7XHJcbiAgICB0b2RheS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xyXG4gICAgc2hvd1RvZGF5KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmFtZVByb2plY3QoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHJvamVjdExpc3QgLnRpbGUuaGlkZGVuIHAnKTtcclxuICAgIGNvbnN0IG5ld05hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUmVuYW1lRm9ybSAucHJvamVjdC1uYW1lLWlucHV0Jyk7XHJcbiAgICBwcm9qZWN0TmFtZS50ZXh0Q29udGVudCA9IG5ld05hbWUudmFsdWU7XHJcbiAgICBjb25zdCBkYXRhUHJvamVjdCA9IHByb2plY3ROYW1lLnBhcmVudE5vZGUuZGF0YXNldC5wcm9qZWN0O1xyXG4gICAgcHJvamVjdExpc3RbZGF0YVByb2plY3RdLnByb2plY3ROYW1lID0gbmV3TmFtZS52YWx1ZTtcclxuICAgIHN0b3JlSW5Mb2NhbFN0b3JhZ2UoKTtcclxuICAgIHNldE9yaWdpbmFsUmVuYW1lRm9ybVBvcygpO1xyXG4gICAgaGlkZVJlbmFtZUZvcm0oKTtcclxuICAgIHNob3dSZW5hbWVkUHJvamVjdCgpO1xyXG4gICAgdXBkYXRlVGl0bGUobmV3TmFtZS52YWx1ZSk7XHJcbiAgICBkcmFnQW5kRHJvcFByb2plY3RMaXN0ZW5lcigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93UmVuYW1lUHJvamVjdEZvcm0oZSkge1xyXG4gICAgY29uc3QgcHJvamVjdE5vZGUgPSBlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XHJcbiAgICBcclxuICAgIGlmKCFpc1JlbmFtZUZvcm1IaWRkZW4oKSkge1xyXG4gICAgICAgIHNldE9yaWdpbmFsUmVuYW1lRm9ybVBvcygpO1xyXG4gICAgICAgIHNob3dSZW5hbWVkUHJvamVjdCgpO1xyXG4gICAgfSBcclxuICAgIGNoYW5nZVJlbmFtZUZvcm1Qb3MocHJvamVjdE5vZGUpO1xyXG4gICAgc2hvd1JlbmFtZUZvcm0oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNSZW5hbWVGb3JtSGlkZGVuKCkge1xyXG4gICAgY29uc3QgcmVuYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNSZW5hbWVGb3JtJyk7XHJcbiAgICByZXR1cm4gcmVuYW1lRm9ybS5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VSZW5hbWVGb3JtUG9zKHByb2plY3ROb2RlKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0TGlzdE5vZGUgPSBwcm9qZWN0Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgcHJvamVjdE5vZGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICBjb25zdCByZW5hbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1JlbmFtZUZvcm0nKTtcclxuICAgIGNvbnN0IHByb2plY3ROYW1lQ29udGFpbmVyID0gcHJvamVjdE5vZGUucXVlcnlTZWxlY3RvcigncCcpO1xyXG4gICAgcmVuYW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlID0gcHJvamVjdE5hbWVDb250YWluZXIudGV4dENvbnRlbnQ7XHJcbiAgICBwcm9qZWN0TGlzdE5vZGUuaW5zZXJ0QmVmb3JlKHJlbmFtZUZvcm0sIHByb2plY3ROb2RlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZVJlbmFtZUZvcm0oKSB7XHJcbiAgICBjb25zdCByZW5hbWVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1JlbmFtZUZvcm0nKTtcclxuICAgIHJlbmFtZUZvcm0uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSZW5hbWVGb3JtKCkge1xyXG4gICAgY29uc3QgcmVuYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNSZW5hbWVGb3JtJyk7XHJcbiAgICByZW5hbWVGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgcmVuYW1lRm9ybS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLmZvY3VzKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSZW5hbWVkUHJvamVjdCgpIHtcclxuICAgIGNvbnN0IGhpZGRlblByb2plY3RUaWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Byb2plY3RMaXN0IC50aWxlLmhpZGRlbicpXHJcbiAgICBoaWRkZW5Qcm9qZWN0VGlsZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0T3JpZ2luYWxSZW5hbWVGb3JtUG9zKCkge1xyXG4gICAgY29uc3QgcmVuYW1lRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNSZW5hbWVGb3JtJyk7XHJcbiAgICBjb25zdCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQcm9qZWN0TGlzdCcpO1xyXG4gICAgcHJvamVjdExpc3QuYXBwZW5kQ2hpbGQocmVuYW1lRm9ybSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7ZGVsZXRlQW5kUmVuYW1lTGlzdGVuZXIsIHJlYXJyYW5nZURhdGFQcm9qZWN0fTsiLCJpbXBvcnQgeyBwcm9qZWN0TGlzdCwgc3RvcmVJbkxvY2FsU3RvcmFnZSB9IGZyb20gXCIuL2NyZWF0aW5nUHJvamVjdFwiO1xyXG5pbXBvcnQge3Byb2Nlc3NEYXRlfSBmcm9tIFwiLi9jcmVhdGluZ1Rhc2tcIjtcclxuXHJcbmZ1bmN0aW9uIHRhc2tFZGl0KCkge1xyXG4gICAgY29uc3QgdGFza0xpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Rhc2tzJyk7XHJcbiAgICB0YXNrTGlzdHMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcm9jZXNzQnRuQWN0aW9ucyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NCdG5BY3Rpb25zKGUpIHtcclxuICAgIGNvbnN0IGNoZWNrQm94ID0gZS50YXJnZXQuY2xvc2VzdChcIiN0YXNrVGl0bGUgaW5wdXRbdHlwZT0nY2hlY2tib3gnXVwiKTtcclxuICAgIGNvbnN0IGZhdkJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJyN0YXNrVGl0bGUgLmZhdi1idG4nKTtcclxuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGUudGFyZ2V0LmNsb3Nlc3QoJyN0YXNrVGl0bGUgLmRlbGV0ZS10YXNrLWJ0bicpO1xyXG4gICAgY29uc3QgcmVuYW1lQnRuID0gZS50YXJnZXQuY2xvc2VzdCgnI3Rhc2tUaXRsZSAucmVuYW1lLXRhc2stYnRuJyk7XHJcbiAgICBjb25zdCBkZXNjRXhwYW5kID0gZS50YXJnZXQuY2xvc2VzdCgnLnRhc2tJbmZvIC5hcnJvdy1idG4nKTtcclxuICAgIFxyXG4gICAgXHJcbiAgICBpZihjaGVja0JveCkge1xyXG4gICAgICAgIGNoZWNrQ29tcGxldGVkKGNoZWNrQm94KTtcclxuICAgIH0gZWxzZSBpZihmYXZCdG4pIHtcclxuICAgICAgICBjaGVja0Zhdm91cml0ZShmYXZCdG4pO1xyXG4gICAgfSBlbHNlIGlmKGRlbGV0ZUJ0bikge1xyXG4gICAgICAgIGNoZWNrRGVsZXRlKGRlbGV0ZUJ0bik7XHJcbiAgICB9IGVsc2UgaWYocmVuYW1lQnRuKSB7XHJcbiAgICAgICAgY2hlY2tSZW5hbWUocmVuYW1lQnRuKTtcclxuICAgIH0gZWxzZSBpZihkZXNjRXhwYW5kKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Rlc2NFeHBhbmQnLCBkZXNjRXhwYW5kKTtcclxuICAgICAgICBjaGVja0Rlc2NFeHBhbmQoZGVzY0V4cGFuZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQ29tcGxldGVkKGNoZWNrQm94KSB7XHJcbiAgICBjb25zdCB0YXNrSW5mbyA9IGNoZWNrQm94LnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlO1xyXG4gICAgaWYoY2hlY2tCb3guY2hlY2tlZCkge1xyXG4gICAgICAgIHRhc2tJbmZvLmNsYXNzTGlzdC5hZGQoJ3N0cmlrZS10aHJvdWdoJywgJ2RpbScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0YXNrSW5mby5jbGFzc0xpc3QucmVtb3ZlKCdzdHJpa2UtdGhyb3VnaCcsICdkaW0nKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHRhc2sgPSBmaW5kVGFzayh0YXNrSW5mby5pZCk7XHJcbiAgICB0YXNrLmNvbXBsZXRlZCA9ICF0YXNrLmNvbXBsZXRlZDtcclxuICAgIHN0b3JlSW5Mb2NhbFN0b3JhZ2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tGYXZvdXJpdGUoZmF2QnRuKSB7XHJcbiAgICBjb25zdCB0YXNrSW5mbyA9IGZhdkJ0bi5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgIGNvbnN0IHRhc2sgPSBmaW5kVGFzayh0YXNrSW5mby5pZCk7XHJcbiAgICBpZih0YXNrLmZhdm9yaXRlKSB7XHJcbiAgICAgICAgZmF2QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXNvbGlkJyk7XHJcbiAgICAgICAgZmF2QnRuLmNsYXNzTGlzdC5hZGQoJ2ZhLXJlZ3VsYXInKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZmF2QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLXJlZ3VsYXInKTtcclxuICAgICAgICBmYXZCdG4uY2xhc3NMaXN0LmFkZCgnZmEtc29saWQnKTtcclxuICAgIH1cclxuICAgIHRhc2suZmF2b3JpdGUgPSAhdGFzay5mYXZvcml0ZTtcclxuICAgIHN0b3JlSW5Mb2NhbFN0b3JhZ2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZFRhc2soaWQpIHtcclxuICAgIGxldCB0YXNrTmFtZT0wO1xyXG4gICAgcHJvamVjdExpc3QuZm9yRWFjaChwcm9qZWN0ID0+IHtcclxuICAgICAgICBwcm9qZWN0LnRhc2tMaXN0LmZvckVhY2godGFzayA9PiB7XHJcbiAgICAgICAgICAgIGlmKHRhc2sudGFza0lkID09IGlkKSB7XHJcbiAgICAgICAgICAgICAgICB0YXNrTmFtZSA9IHRhc2s7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgIHJldHVybiB0YXNrTmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tEZWxldGUoZGVsZXRlQnRuKSB7XHJcbiAgICBjb25zdCB0YXNrSW5mbyA9IGRlbGV0ZUJ0bi5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTtcclxuICAgIGxldCBkZXRhaWxzID0gZ2V0VGFza0RldGFpbHModGFza0luZm8uaWQpO1xyXG4gICAgbGV0IHByb2plY3ROYW1lID0gZGV0YWlsc1swXTtcclxuICAgIGxldCB0YXNrTmFtZSA9IGRldGFpbHNbMV07XHJcbiAgICBwcm9qZWN0TmFtZS50YXNrTGlzdCA9IGFycmF5UmVtb3ZlKHByb2plY3ROYW1lLnRhc2tMaXN0LCB0YXNrTmFtZSk7XHJcbiAgICB0YXNrSW5mby5yZW1vdmUoKTtcclxuICAgIHN0b3JlSW5Mb2NhbFN0b3JhZ2UoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyLCB2YWx1ZSkgeyBcclxuICAgIHJldHVybiBhcnIuZmlsdGVyKGZ1bmN0aW9uKGVsZSl7IFxyXG4gICAgICAgIHJldHVybiBlbGUgIT0gdmFsdWU7IFxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRhc2tEZXRhaWxzKGlkKSB7XHJcbiAgICBsZXQgcHJvamVjdE5hbWU7XHJcbiAgICBsZXQgdGFza05hbWU7XHJcbiAgICBwcm9qZWN0TGlzdC5mb3JFYWNoKHByb2plY3QgPT4ge1xyXG4gICAgICAgIHByb2plY3QudGFza0xpc3QuZm9yRWFjaCh0YXNrID0+IHtcclxuICAgICAgICAgICAgaWYodGFzay50YXNrSWQgPT0gaWQpIHtcclxuICAgICAgICAgICAgICAgIHByb2plY3ROYW1lID0gcHJvamVjdFxyXG4gICAgICAgICAgICAgICAgdGFza05hbWUgPSB0YXNrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbiAgICByZXR1cm4gW3Byb2plY3ROYW1lLCB0YXNrTmFtZV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrUmVuYW1lKHJlbmFtZUJ0bikge1xyXG4gICAgY29uc3QgdGFza0luZm8gPSByZW5hbWVCdG4ucGFyZW50Tm9kZS5wYXJlbnROb2RlLnBhcmVudE5vZGU7XHJcbiAgICBcclxuICAgIGNvbnN0IHRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FkZFRhc2tGb3JtJyk7XHJcbiAgICBjb25zdCByZW5hbWVGb3JtID0gdGFza0Zvcm0uY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmVuYW1lRm9ybS5pZCA9ICdyZW5hbWVUYXNrRm9ybSc7XHJcbiAgICBjb25zdCBhZGRCdG4gPSByZW5hbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWFkZC1idG4nKTtcclxuICAgIGFkZEJ0bi52YWx1ZSA9ICdTYXZlJztcclxuXHJcbiAgICBjb25zdCB0YXNrTmFtZSA9IHRhc2tJbmZvLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrVGl0bGUgcCcpO1xyXG4gICAgY29uc3QgZGVzYyA9IHRhc2tJbmZvLnF1ZXJ5U2VsZWN0b3IoJyNkZXNjcmlwdGlvbiBwJyk7XHJcbiAgICBjb25zdCBkYXRlID0gdGFza0luZm8ucXVlcnlTZWxlY3RvcignI3Rhc2tUaXRsZSAudGFzay1kYXRlJyk7XHJcblxyXG4gICAgY29uc3QgdGFza05hbWVJbnB1dCA9IHJlbmFtZUZvcm0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J3RleHQnXVwiKTtcclxuICAgIGNvbnN0IGRlc2NJbnB1dCA9IHJlbmFtZUZvcm0ucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKTtcclxuICAgIGNvbnN0IGRhdGVJbnB1dCA9IHJlbmFtZUZvcm0ucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J2RhdGUnXVwiKVxyXG5cclxuICAgIHRhc2tOYW1lSW5wdXQudmFsdWUgPSB0YXNrTmFtZS50ZXh0Q29udGVudDtcclxuICAgIGRlc2NJbnB1dC52YWx1ZSA9IGRlc2MudGV4dENvbnRlbnQ7XHJcbiAgICBkYXRlSW5wdXQudmFsdWUgPSBwcm9jZXNzRGF0ZShkYXRlLnRleHRDb250ZW50KTtcclxuXHJcbiAgICByZW5hbWVGb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgY29uc3QgdGFza3MgPSB0YXNrSW5mby5wYXJlbnROb2RlO1xyXG4gICAgdGFza3MuaW5zZXJ0QmVmb3JlKHJlbmFtZUZvcm0sIHRhc2tJbmZvKTtcclxuICAgIHRhc2tJbmZvLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgdGFza1JlbmFtZUZvcm1CdG5MaXN0ZW5lcihyZW5hbWVGb3JtLHRhc2tJbmZvKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGFza1JlbmFtZUZvcm1CdG5MaXN0ZW5lcihyZW5hbWVGb3JtLCB0YXNrSW5mbykge1xyXG4gICAgcmVuYW1lRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBwcm9jZXNzVGFza1JlbmFtZSk7XHJcbiAgICBjb25zdCBjYW5jZWxCdG4gPSByZW5hbWVGb3JtLnF1ZXJ5U2VsZWN0b3IoJy50YXNrLWNhbmNlbC1idG4nKTtcclxuICAgIGNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xyXG4gICAgICAgIGhpZGVSZW5hbWVUYXNrRm9ybSgpO1xyXG4gICAgICAgIHRhc2tJbmZvLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NUYXNrUmVuYW1lKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHNlbGVjdGVkVGFzayA9IGZpbmRIaWRkZW5UYXNrKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHRhc2tOYW1lID0gc2VsZWN0ZWRUYXNrLnF1ZXJ5U2VsZWN0b3IoJyN0YXNrVGl0bGUgcCcpO1xyXG4gICAgY29uc3QgZGVzYyA9IHNlbGVjdGVkVGFzay5xdWVyeVNlbGVjdG9yKCcjZGVzY3JpcHRpb24gcCcpO1xyXG4gICAgY29uc3QgZGF0ZSA9IHNlbGVjdGVkVGFzay5xdWVyeVNlbGVjdG9yKCcjdGFza1RpdGxlIC50YXNrLWRhdGUnKTtcclxuXHJcbiAgICBjb25zdCB0YXNrTmFtZUlucHV0ID0gZS50YXJnZXQucXVlcnlTZWxlY3RvcihcImlucHV0W3R5cGU9J3RleHQnXVwiKTtcclxuICAgIGNvbnN0IGRlc2NJbnB1dCA9IGUudGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJyk7XHJcbiAgICBjb25zdCBkYXRlSW5wdXQgPSBlLnRhcmdldC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbdHlwZT0nZGF0ZSddXCIpO1xyXG5cclxuICAgIHRhc2tOYW1lLnRleHRDb250ZW50ID0gdGFza05hbWVJbnB1dC52YWx1ZTtcclxuICAgIGRlc2MudGV4dENvbnRlbnQgPSBkZXNjSW5wdXQudmFsdWU7XHJcbiAgICBkYXRlLnRleHRDb250ZW50ID0gcHJvY2Vzc0RhdGUoZGF0ZUlucHV0LnZhbHVlKTtcclxuXHJcbiAgICBjb25zdCB0YXNrID0gZmluZFRhc2soc2VsZWN0ZWRUYXNrLmlkKTtcclxuICAgIHRhc2sudGFza05hbWUgPSB0YXNrTmFtZS50ZXh0Q29udGVudDtcclxuICAgIHRhc2suZGVzY3JpcHRpb24gPSBkZXNjLnRleHRDb250ZW50O1xyXG4gICAgdGFzay5kYXRlID0gZGF0ZS50ZXh0Q29udGVudDtcclxuICAgIHN0b3JlSW5Mb2NhbFN0b3JhZ2UoKTtcclxuXHJcbiAgICBzZWxlY3RlZFRhc2suY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICBoaWRlUmVuYW1lVGFza0Zvcm0oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tEZXNjRXhwYW5kKGRlc2NFeHBhbmQpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic2libGluZ1wiLGRlc2NFeHBhbmQucHJldmlvdXNTaWJsaW5nKTtcclxuICAgIGNvbnN0IGRlc2MgPSBkZXNjRXhwYW5kLnByZXZpb3VzU2libGluZztcclxuICAgIGNvbnN0IGFycm93ID0gZGVzY0V4cGFuZC5maXJzdENoaWxkO1xyXG4gICAgY29uc29sZS5sb2coJ3RyYW5zZm9ybScsIGFycm93LmNvbXB1dGVkU3R5bGVNYXAoKS5nZXQoJ3RyYW5zZm9ybScpWzBdLmFuZ2xlLnZhbHVlKTtcclxuICAgIGlmKGFycm93LmNvbXB1dGVkU3R5bGVNYXAoKS5nZXQoJ3RyYW5zZm9ybScpWzBdLmFuZ2xlLnZhbHVlID09IDQ1KSB7XHJcbiAgICAgICAgYXJyb3cuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSgtMTM1ZGVnKSdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXJyb3cuc3R5bGUudHJhbnNmb3JtID0gJ3JvdGF0ZSg0NWRlZyknXHJcbiAgICB9XHJcbiAgICBpZihkZXNjLnRleHRDb250ZW50KSB7XHJcbiAgICAgICAgZGVzYy5jbGFzc0xpc3QudG9nZ2xlKCdleHBhbmRlZC1kZXNjJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRIaWRkZW5UYXNrKCkge1xyXG4gICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNUYXNrcyAudGFza0luZm8uaGlkZGVuJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVSZW5hbWVUYXNrRm9ybSgpIHtcclxuICAgIGNvbnN0IGFkZFRhc2tGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZW5hbWVUYXNrRm9ybVwiKTtcclxuICAgIGFkZFRhc2tGb3JtLnJlbW92ZSgpO1xyXG59XHJcblxyXG5leHBvcnR7dGFza0VkaXQsIGhpZGVSZW5hbWVUYXNrRm9ybX0iLCJpbXBvcnQge2RlbGV0ZUFuZFJlbmFtZUxpc3RlbmVyfSBmcm9tIFwiLi9kZWxldGVBbmRSZW5hbWVQcm9qZWN0XCI7XHJcbmltcG9ydCB7aWQsIHVwZGF0ZVRpdGxlLCBoaWRlQWRkVGFza0Zvcm0sIGRpc3BsYXlUYXNrfSBmcm9tIFwiLi9jcmVhdGluZ1Rhc2tcIjtcclxuaW1wb3J0IHtoaWRlUmVuYW1lVGFza0Zvcm0sIHRhc2tFZGl0fSBmcm9tIFwiLi9lZGl0aW5nVGFza1wiO1xyXG5pbXBvcnQge2NoZWNrSG9tZVRpbGV9IGZyb20gXCIuL2hvbWVTZWN0aW9uXCI7XHJcbmltcG9ydCB7ZHJhZ0FuZERyb3BQcm9qZWN0TGlzdGVuZXJ9IGZyb20gXCIuL2RyYWdBbmREcm9wUHJvamVjdFwiO1xyXG5cclxuY29uc3QgUFJPSkVDVExJU1RLRVkgPSBcInByb2plY3RMaXN0S2V5XCI7XHJcbmNvbnN0IFRBU0tMSVNUSUQgPSAndGFza0xpc3RJZCc7XHJcblxyXG5mdW5jdGlvbiBhZGROZXdQcm9qZWN0KCkge1xyXG4gICAgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtcHJvamVjdC13cmFwcGVyJyk7XHJcbiAgICBuZXdQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd0FkZFByb2plY3QpO1xyXG5cclxuICAgIGNvbnN0IHByb2plY3RDYW5jZWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1jYW5jZWwtYnRuJyk7XHJcbiAgICBwcm9qZWN0Q2FuY2VsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGlkZUFkZFByb2plY3QpO1xyXG5cclxuICAgIGNvbnN0IGFkZFByb2plY3RGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0FkZFByb2plY3RGb3JtJyk7XHJcbiAgICBhZGRQcm9qZWN0Rm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhZGRQcm9qZWN0TmFtZSk7XHJcblxyXG4gICAgY29uc3QgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNNZW51Jyk7XHJcbiAgICBtZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbWVudVRpbGVzTGlzdGVuZXIpO1xyXG5cclxuICAgIGRpc3BsYXlQcm9qZWN0TGlzdCgpO1xyXG59XHJcblxyXG5sZXQgZGVmYXVsdFByb2plY3RMaXN0PVtdO1xyXG5sZXQgcHJvamVjdExpc3QgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShQUk9KRUNUTElTVEtFWSk7XHJcbnByb2plY3RMaXN0ID0gSlNPTi5wYXJzZShwcm9qZWN0TGlzdCB8fCBKU09OLnN0cmluZ2lmeShkZWZhdWx0UHJvamVjdExpc3QpKTtcclxuXHJcbmZ1bmN0aW9uIG1lbnVUaWxlc0xpc3RlbmVyKGUpIHtcclxuICAgIGxldCBob21lVGlsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIuaG9tZSAudGlsZVwiKTtcclxuICAgIGxldCBwcm9qZWN0VGlsZSA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIjUHJvamVjdExpc3QgLnRpbGVcIik7XHJcblxyXG4gICAgaWYoaG9tZVRpbGUhPW51bGwpIHtcclxuICAgICAgICBjb25zdCB0aXRsZSA9IGhvbWVUaWxlLnF1ZXJ5U2VsZWN0b3IoJ3AnKS50ZXh0Q29udGVudDtcclxuICAgICAgICBzZWxlY3RUaWxlKGhvbWVUaWxlKTtcclxuICAgICAgICB1cGRhdGVUaXRsZSh0aXRsZSk7XHJcbiAgICAgICAgY2hlY2tIb21lVGlsZShob21lVGlsZSk7XHJcbiAgICAgICAgdGFza0VkaXQoKTtcclxuICAgIH0gZWxzZSBpZihwcm9qZWN0VGlsZSE9bnVsbCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGFQcm9qZWN0ID0gcHJvamVjdFRpbGUuZGF0YXNldC5wcm9qZWN0O1xyXG4gICAgICAgIGNvbnN0IHRpdGxlID0gcHJvamVjdFRpbGUucXVlcnlTZWxlY3RvcigncCcpLnRleHRDb250ZW50O1xyXG4gICAgICAgIHNlbGVjdFRpbGUocHJvamVjdFRpbGUpO1xyXG4gICAgICAgIGRpc3BsYXlUYXNrKGRhdGFQcm9qZWN0KTtcclxuICAgICAgICBzaG93QWRkVGFza0J0bigpO1xyXG4gICAgICAgIHVwZGF0ZVRpdGxlKHRpdGxlKTtcclxuICAgICAgICB0YXNrRWRpdCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93QWRkVGFza0J0bigpIHtcclxuICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2std3JhcHBlcicpXHJcbiAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlQWRkVGFza0J0bigpIHtcclxuICAgIGNvbnN0IGFkZFRhc2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXRhc2std3JhcHBlcicpXHJcbiAgICBhZGRUYXNrQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZWxlY3RUaWxlKHRpbGVOYW1lKSB7XHJcbiAgICBjb25zdCBzZWxlY3RlZFRpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKTtcclxuICAgIGlmKHNlbGVjdGVkVGlsZSkge1xyXG4gICAgICAgIHNlbGVjdGVkVGlsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xyXG4gICAgfVxyXG4gICAgdGlsZU5hbWUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUHJvamVjdE5hbWUoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1uYW1lLWlucHV0JykudmFsdWU7XHJcbiAgICBsZXQgZGF0YVByb2plY3QgPSBnZXREYXRhUHJvamVjdCgpO1xyXG4gICAgY29uc3QgbmV3UHJvamVjdCA9IGNyZWF0ZVByb2plY3QoZGF0YVByb2plY3QsIHByb2plY3ROYW1lKTtcclxuICAgIHByb2plY3RMaXN0LnB1c2gobmV3UHJvamVjdCk7XHJcbiAgICBzdG9yZUluTG9jYWxTdG9yYWdlKCk7XHJcbiAgICBhZGRUb1Byb2plY3RMaXN0c1VJKGRhdGFQcm9qZWN0LCBwcm9qZWN0TmFtZSk7XHJcbiAgICBoaWRlQWRkUHJvamVjdCgpO1xyXG4gICAgZGVsZXRlQW5kUmVuYW1lTGlzdGVuZXIoKTtcclxuICAgIGRyYWdBbmREcm9wUHJvamVjdExpc3RlbmVyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3QoZGF0YVByb2plY3QsIHByb2plY3ROYW1lKSB7XHJcbiAgICBsZXQgdGFza0xpc3QgPSBbXTtcclxuICAgIGNvbnN0IHRhc2tOdW0gPSB0YXNrTGlzdC5sZW5ndGg7XHJcbiAgICByZXR1cm4geyBkYXRhUHJvamVjdCwgcHJvamVjdE5hbWUsIHRhc2tMaXN0LCB0YXNrTnVtIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFQcm9qZWN0KCkge1xyXG4gICAgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1wcm9qZWN0XScpO1xyXG4gICAgcmV0dXJuIHByb2plY3RzLmxlbmd0aDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVG9Qcm9qZWN0TGlzdHNVSShkYXRhUHJvamVjdCwgcHJvamVjdE5hbWUpIHtcclxuICAgIFxyXG4gICAgLy9oYW1idXJnZXIgYnV0dG9uIENvbnRhaW5lclxyXG4gICAgY29uc3QgaGFtQnRuID0gY3JlYXRlTmV3RWxlbWVudCgnZGl2JywgWydoYW0tYnRuJ10pO1xyXG5cclxuICAgIC8vIGhhbWJ1cmdlciBidXR0b25cclxuICAgIGNvbnN0IGJhciA9IGNyZWF0ZU5ld0VsZW1lbnQoJ2RpdicsIFsnYmFyJ10pO1xyXG4gICAgaGFtQnRuLmFwcGVuZENoaWxkKGJhcik7XHJcblxyXG4gICAgY29uc3QgcHJvamVjdE5hbWVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICBwcm9qZWN0TmFtZUNvbnRhaW5lci50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xyXG5cclxuICAgIGNvbnN0IGRlbGV0ZUFuZFJlbmFtZUNvbnRhaW5lciA9IGNyZWF0ZU5ld0VsZW1lbnQoJ2RpdicsIFsnZGVsZXRlLWFuZC1yZW5hbWUnXSk7XHJcbiAgICBjb25zdCBkZWxldGVCdG4gPSBjcmVhdGVOZXdFbGVtZW50KCdpJywgWydmYS1zb2xpZCcsICdmYS10cmFzaC1jYW4nLCAnZGVsZXRlLXByb2plY3QtYnRuJ10pO1xyXG4gICAgY29uc3QgcmVuYW1lQnRuID0gY3JlYXRlTmV3RWxlbWVudCgnaScsIFsnZmEtcmVndWxhcicsICdmYS1wZW4tdG8tc3F1YXJlJywgJ3JlbmFtZS1wcm9qZWN0LWJ0biddKTtcclxuICAgIGRlbGV0ZUFuZFJlbmFtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xyXG4gICAgZGVsZXRlQW5kUmVuYW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmFtZUJ0bik7XHJcblxyXG4gICAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlTmV3RWxlbWVudCgnZGl2JywgWyd0aWxlJ10sICdkYXRhLXByb2plY3QnLCBkYXRhUHJvamVjdCk7XHJcbiAgICBjb250YWluZXIucHJlcGVuZChoYW1CdG4pO1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3ROYW1lQ29udGFpbmVyKTtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChkZWxldGVBbmRSZW5hbWVDb250YWluZXIpO1xyXG4gICAgXHJcbiAgICBjb25zdCBwcm9qZWN0V3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQcm9qZWN0TGlzdCcpO1xyXG4gICAgcHJvamVjdFdyYXBwZXIucHJlcGVuZChjb250YWluZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVOZXdFbGVtZW50KHRhZywgbmFtZU9GQ2xhc3MsIGF0dHI9JycsIGF0dHJWYWx1ZSkge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xyXG4gICAgbmFtZU9GQ2xhc3MuZm9yRWFjaChjbGFzc05hbWUgPT4ge1xyXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICB9KTtcclxuICAgIGlmKGF0dHIhPScnKSB7XHJcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShhdHRyLCBgJHthdHRyVmFsdWV9YCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGFpbmVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9yZUluTG9jYWxTdG9yYWdlKCkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oUFJPSkVDVExJU1RLRVksIEpTT04uc3RyaW5naWZ5KHByb2plY3RMaXN0KSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUQVNLTElTVElELCBKU09OLnN0cmluZ2lmeShpZCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5UHJvamVjdExpc3QoKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHJvamVjdExpc3QnKS5pbm5lckhUTUwgPSAnJztcclxuICAgIHByb2plY3RMaXN0LmZvckVhY2gocHJvamVjdCA9PiB7XHJcbiAgICAgICAgYWRkVG9Qcm9qZWN0TGlzdHNVSShwcm9qZWN0LmRhdGFQcm9qZWN0LHByb2plY3QucHJvamVjdE5hbWUpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVBZGRQcm9qZWN0KCkge1xyXG4gICAgY29uc3QgbmV3UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNBZGRQcm9qZWN0Rm9ybScpO1xyXG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2plY3QtbmFtZS1pbnB1dCcpO1xyXG4gICAgcHJvamVjdE5hbWVJbnB1dEZpZWxkLnZhbHVlID0gJyc7XHJcbiAgICBuZXdQcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93QWRkUHJvamVjdCgpIHtcclxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQWRkUHJvamVjdEZvcm0nKTtcclxuICAgIG5ld1Byb2plY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdC1uYW1lLWlucHV0JykuZm9jdXMoKTtcclxufVxyXG5cclxuZXhwb3J0IHthZGROZXdQcm9qZWN0LCBwcm9qZWN0TGlzdCwgc3RvcmVJbkxvY2FsU3RvcmFnZSwgZGlzcGxheVByb2plY3RMaXN0LCBoaWRlQWRkVGFza0J0bn0iLCJpbXBvcnQge2FkZE5ld1Byb2plY3R9IGZyb20gXCIuL2NyZWF0aW5nUHJvamVjdFwiO1xyXG5pbXBvcnQge2RlbGV0ZUFuZFJlbmFtZUxpc3RlbmVyfSBmcm9tIFwiLi9kZWxldGVBbmRSZW5hbWVQcm9qZWN0XCI7XHJcbmltcG9ydCB7Y3JlYXRpbmdUYXNrfSBmcm9tIFwiLi9jcmVhdGluZ1Rhc2tcIjtcclxuaW1wb3J0IHt0YXNrRWRpdH0gZnJvbSBcIi4vZWRpdGluZ1Rhc2tcIjtcclxuaW1wb3J0IHtzaG93VG9kYXl9IGZyb20gXCIuL2hvbWVTZWN0aW9uXCI7XHJcbmltcG9ydCB7ZHJhZ0FuZERyb3BQcm9qZWN0TGlzdGVuZXJ9IGZyb20gXCIuL2RyYWdBbmREcm9wUHJvamVjdFwiO1xyXG5cclxuYWRkTmV3UHJvamVjdCgpO1xyXG5kZWxldGVBbmRSZW5hbWVMaXN0ZW5lcigpO1xyXG5jcmVhdGluZ1Rhc2soKTtcclxudGFza0VkaXQoKTtcclxuc2hvd1RvZGF5KCk7XHJcbmRyYWdBbmREcm9wUHJvamVjdExpc3RlbmVyKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///974\n")}},__webpack_exports__={};__webpack_modules__[974]()})();